(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{126:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(40),i=n.n(r),s=n(165),a=n(167),u=n(164),l=n(24),j=n(3),d={filterState:{brightness:0,setBrightness:function(){return 0},contrast:0,setContrast:function(){return 0},nightVision:!1,setNightVision:function(){return!1}},connectionState:{connected:!1,setConnected:function(){return!1}}},b=Object(c.createContext)(d);function f(){return Object(c.useContext)(b)}var h=function(e){var t=e.children,n=Object(c.useState)(0),o=Object(l.a)(n,2),r=o[0],i=o[1],s=Object(c.useState)(0),a=Object(l.a)(s,2),u=a[0],d=a[1],f=Object(c.useState)(!1),h=Object(l.a)(f,2),O=h[0],g=h[1],x=Object(c.useState)(!1),v=Object(l.a)(x,2),m={filterState:{brightness:r,setBrightness:i,contrast:u,setContrast:d,nightVision:O,setNightVision:g},connectionState:{connected:v[0],setConnected:v[1]}};return Object(j.jsx)(b.Provider,{value:m,children:t})},O=n(71),g=n(34),x=n(72),v=function(){var e=f().filterState,t=e.brightness,n=e.setBrightness,c=e.contrast,o=e.setContrast,r=e.nightVision,i=e.setNightVision;return Object(j.jsx)(O.a,{fluid:"sm",className:"mt-3 mb-5",children:Object(j.jsxs)(x.a,{className:"align-items-center justify-content-center",children:[Object(j.jsx)(g.a,{xs:8,children:Object(j.jsx)(s.a,{label:"Brightness",min:-100,max:100,step:10,value:t,onChange:function(e){return n(e)},showValue:!0,originFromZero:!0})}),Object(j.jsx)(g.a,{xs:3,children:Object(j.jsx)(a.a,{label:"Nightvision",onText:"On",offText:"Off",onChange:function(e,t){return i(null!==t&&void 0!==t&&t)},checked:r})}),Object(j.jsx)(g.a,{xs:8,children:Object(j.jsx)(s.a,{label:"Contrast",min:-100,max:100,step:10,value:c,onChange:function(e){return o(e)},showValue:!0,originFromZero:!0})}),Object(j.jsx)(g.a,{xs:3,children:Object(j.jsx)(u.a,{text:"Reset",onClick:function(){n(0),o(0),i(!1)}})})]})})},m=n(166),C=n(20),S=n(53),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,requestTimeout:1e3},n=e?Object(S.io)(e,t):Object(S.io)(t);return n.on("connect",(function(){n.io.engine.requestTimeout=0,console.log("Socket connected.")})),n.on("connect_error",(function(e){console.log("Connection failed... ".concat(e))})),n.on("disconnect",(function(e){console.log("Socket disconnected. Reason: ".concat(e))})),n.on("error",(function(e){console.log("Error: ".concat(e))})),n},V=(n(126),function(){var e=f(),t=e.filterState,n=t.brightness,o=t.contrast,r=t.nightVision,i=e.connectionState,s=i.connected,a=i.setConnected,u=Object(c.useState)(!1),d=Object(l.a)(u,2),b=d[0],h=d[1],O=Object(c.useRef)(null),g=Object(c.useRef)(null),x=Object(c.useState)("brightness(".concat(n+100,"%) \n        contrast(").concat(o+100,"%)\n        hue-rotate(").concat(r?"90deg":"0",")\n        saturate(").concat(r?"10":"1",")")),v=Object(l.a)(x,2),S=v[0],V=v[1];Object(c.useEffect)((function(){V("brightness(".concat(n+100,"%) \n            contrast(").concat(o+100,"%) \n            hue-rotate(").concat(r?"90deg":"0",") \n            saturate(").concat(r?"10":"1",")"))}),[n,o,r]),Object(c.useEffect)((function(){p().on("motion",(function(){var e,t;null===(e=g.current)||void 0===e||e.classList.remove("motion-alert"),null===(t=g.current)||void 0===t||t.classList.add("motion-alert")}))}),[]);return Object(j.jsxs)("div",{id:"videoFeedContainer",ref:O,children:[!s&&Object(j.jsx)("div",{id:"loader",children:Object(j.jsx)(m.a,{label:"Connecting to camera...",size:C.a.large})}),Object(j.jsx)("img",{id:"videoFeed",style:{filter:S},src:"/video_feed",onLoad:function(){return a(!0)}}),Object(j.jsx)("div",{id:"motionAlertOverlay",onClick:function(){var e;null===(e=g.current)||void 0===e||e.classList.remove("motion-alert")},onDoubleClick:function(){var e;b?document.exitFullscreen().then((function(){return h(!1)})).catch((function(e){return console.error(e)})):null===(e=O.current)||void 0===e||e.requestFullscreen({navigationUI:"hide"}).then((function(){return h(!0)})).catch((function(e){return console.error(e)}))},ref:g})]})});var k=function(){var e=f().connectionState.connected;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header"}),Object(j.jsx)(V,{}),e&&Object(j.jsx)(v,{})]})};n(127),n(128);i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(h,{children:Object(j.jsx)(k,{})})}),document.getElementById("root"))}},[[129,1,2]]]);