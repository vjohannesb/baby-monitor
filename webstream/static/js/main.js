(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{126:function(t,e,n){},128:function(t,e,n){},129:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),i=n(40),s=n.n(i),r=n(14),a=n(165),u=n(167),l=n(164),d=n(3),b={filterState:{brightness:0,setBrightness:function(){return 0},contrast:0,setContrast:function(){return 0},nightVision:!1,setNightVision:function(){return!1}},connectionState:{connected:!1,setConnected:function(){return!1},address:"192.168.50.5",setAddress:function(){return"192.168.50.5"}}},j=Object(c.createContext)(b);function f(){return Object(c.useContext)(j)}var h=function(t){var e=t.children,n=Object(c.useState)(0),o=Object(r.a)(n,2),i=o[0],s=o[1],a=Object(c.useState)(0),u=Object(r.a)(a,2),l=u[0],b=u[1],f=Object(c.useState)(!1),h=Object(r.a)(f,2),O=h[0],g=h[1],x=Object(c.useState)(!1),m=Object(r.a)(x,2),v=m[0],p=m[1],C=Object(c.useState)("192.168.0.199"),S=Object(r.a)(C,2),y={filterState:{brightness:i,setBrightness:s,contrast:l,setContrast:b,nightVision:O,setNightVision:g},connectionState:{connected:v,setConnected:p,address:S[0],setAddress:S[1]}};return Object(d.jsx)(j.Provider,{value:y,children:e})},O=n(70),g=n(31),x=n(71),m=function(){var t=Object(c.useState)(!1),e=Object(r.a)(t,2),n=e[0],o=e[1],i=f().filterState,s=i.brightness,b=i.setBrightness,j=i.contrast,h=i.setContrast,m=i.nightVision,v=i.setNightVision;Object(c.useEffect)((function(){return o("granted"===Notification.permission)}),[]);return Object(d.jsx)(O.a,{fluid:"sm",className:"mt-3 mb-5",children:Object(d.jsxs)(x.a,{className:"align-items-center justify-content-center",children:[Object(d.jsx)(g.a,{xs:8,children:Object(d.jsx)(a.a,{label:"Brightness",min:-100,max:100,step:10,value:s,onChange:function(t){return b(t)},showValue:!0,originFromZero:!0})}),Object(d.jsx)(g.a,{xs:3,children:Object(d.jsx)(u.a,{label:"Nightvision",onText:"On",offText:"Off",onChange:function(t,e){return v(null!==e&&void 0!==e&&e)},checked:m})}),Object(d.jsx)(g.a,{xs:8,children:Object(d.jsx)(a.a,{label:"Contrast",min:-100,max:100,step:10,value:j,onChange:function(t){return h(t)},showValue:!0,originFromZero:!0})}),Object(d.jsx)(g.a,{xs:3,children:Object(d.jsx)(l.a,{text:"Reset",onClick:function(){b(0),h(0),v(!1)}})}),!n&&Object(d.jsx)(g.a,{xs:"auto",className:"mt-4",children:Object(d.jsx)(l.a,{text:"Enable notifications",onClick:function(){n||Notification.requestPermission().then((function(t){o("granted"===t)}))}})})]})})},v=n(76),p={body:"Motion detected! Click here to view baby monitor.",icon:"../static/android-chrome-192x192.png",renotify:!0,tag:"babyMonitor"},C={body:"Connected to BabyMonitor notifications.",icon:"../static/android-chrome-192x192.png",renotify:!1,tag:"connection"},S=function(){var t=Object(v.io)("https://localhost:8000/",{reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,requestTimeout:1e3});return t.on("connect",(function(){t.io.engine.requestTimeout=0,console.log("Socket connected.");new Notification("BabyMonitor connected",C)})),t.on("connect_error",(function(t){console.log("Connection failed... ".concat(t))})),t.on("disconnect",(function(t){console.log("Socket disconnected. Reason: ".concat(t))})),t.on("error",(function(t){console.log("Error: ".concat(t))})),t.on("motion",(function(t){console.log("Motion detected! "+t);new Notification("BabyMonitor",p)})),t},y=n(166),N=n(21),k=(n(126),function(){var t=f(),e=t.filterState,n=e.brightness,o=e.contrast,i=e.nightVision,s=t.connectionState,a=s.connected,u=s.setConnected,l=Object(c.useRef)(null),b=Object(c.useState)(!1),j=Object(r.a)(b,2),h=j[0],O=j[1],g=Object(c.useState)("brightness(".concat(n+100,"%) \n        contrast(").concat(o+100,"%)\n        hue-rotate(").concat(i?"90deg":"0",")\n        saturate(").concat(i?"10":"1",")")),x=Object(r.a)(g,2),m=x[0],v=x[1];Object(c.useEffect)((function(){v("brightness(".concat(n+100,"%) \n            contrast(").concat(o+100,"%) \n            hue-rotate(").concat(i?"90deg":"0",") \n            saturate(").concat(i?"10":"1",")"))}),[n,o,i]);return Object(d.jsxs)(d.Fragment,{children:[!a&&Object(d.jsx)("div",{id:"loader",children:Object(d.jsx)(y.a,{label:"Connecting to camera...",size:N.a.large})}),Object(d.jsx)("div",{ref:l,children:Object(d.jsx)("img",{id:"videoFeed",style:{filter:m},src:"https://localhost:8000/video_feed",onDoubleClick:function(){var t;h?document.exitFullscreen().then((function(){return O(!1)})):null===(t=l.current)||void 0===t||t.requestFullscreen({navigationUI:"hide"}).then((function(){return O(!0)}))},onLoad:function(){return u(!0)}})})]})});var w=function(){Object(c.useEffect)((function(){var t=S();return function(){t.disconnect()}}),[]);var t=f().connectionState.connected;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header"}),Object(d.jsx)(k,{}),t&&Object(d.jsx)(m,{})]})};n(127),n(128);s.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(h,{children:Object(d.jsx)(w,{})})}),document.getElementById("root"))}},[[129,1,2]]]);